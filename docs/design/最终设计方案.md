下面给出一套“可以直接生成 benchmark 实例”的设计清单，覆盖你们五个场景（含 Personalization）。每个场景我都按同一模板写：Solver 设计、输入参数、解算步骤、输出数值（ground truth）、如何抽象成可评测标签（labels），以及建议的 LLM 题目字段（你们后面写 evaluator 会直接用）。

为保证可落地与可复现，我刻意选择“最小但完整（minimal yet complete）”的可解模型：小规模、离散动作优先、能枚举就枚举，连续变量用数值最优化但控制维度。

一、统一约定（所有场景通用）

1）Instance（一个 benchmark 样本）建议统一包含：

* instance_id：场景名 + seed + 参数 hash
* params：该场景参数字典
* rules：简短可读的规则描述（给 LLM）
* gt_numeric：求解器输出的数值真值（给 evaluator）
* gt_labels：从数值真值抽象出来的标签（给评分用）
* keypoints_gold：机制要点集合（解释题评分用）

2）求解器输出（gt_numeric）与标签（gt_labels）的关系：

* gt_numeric 尽量“全量记录”（便于以后做新标签、新分析）
* gt_labels 只保留“LLM 需要回答且能评分的字段”（结构/方向/排序/桶化数值）

3）LLM 不算精确数值，但你可以要求它回答：

* 结构：集合/类别/赢家
* 方向：$\Delta W$、$\Delta CS$ 的符号
* 排序：政策优先级
* 桶化数值：价格高/中/低、披露率高/中/低等

下面进入各场景。

二、场景 A：Personalization & Privacy Choice（价格传导外部性）

A1. 模型定位
外部性来源：个体披露数据使平台更能进行个性化定价，改变价格分布，从而影响其他消费者剩余；个体决策未内生他人价格效应。

A2. 输入参数（建议小规模离散化）

* n：消费者数（建议 8–15，便于枚举披露集合）
* $\theta_i$：每个消费者愿付（建议离散网格，如 {0.2,0.4,0.6,0.8} 抽样）
* $c_i$：披露隐私成本（可抽样，或与 $\theta$ 相关）
* demand_model：购买规则（建议简单：买当且仅当 $\theta_i \geq \text{price}_i$）
* seller_cost：边际成本（可设 0 或常数）
* personalization_mode：披露则“完美识别”或“噪声识别”（第一版用完美识别）

A3. Solver 设计（核心：枚举披露集合 + 统一价格最优化）
决策结构（两阶段）：
1）给定披露集合 $D$（哪些人披露）：平台对披露者可设个性化价 $p_i=\theta_i$（或 $p_i=\theta_i-\epsilon$，保证购买；第一版可用 $p_i=\theta_i$）
2）对未披露者，只能设统一价格 $p_u$，平台选择 $p_u$ 以最大化其在未披露群体的利润

解算步骤（对每个披露集合 $D$）：

* 未披露集合 $U = N \setminus D$
* 平台对披露者利润：$\Pi_D = \sum_{i\in D} (p_i - \text{cost}) \cdot 1\{\theta_i \geq p_i\}$（在 $p_i=\theta_i$ 时通常为 0 剩余但利润最大化；若你希望有购买，设 $p_i=\theta_i$）
* 对未披露者：枚举候选统一价集合（用 $\{\theta_i \mid i\in U\}$ 或网格），找最大化 $\Pi_U(p)=\sum_{i\in U} (p-\text{cost}) \cdot 1\{\theta_i\geq p\}$
* 得到最优统一价 $p_u^*(D)$、总利润 $\Pi(D)=\Pi_D+\Pi_U$

消费者效用与福利：

* 对披露者：$u_i = (\theta_i - p_i) - c_i$（若 $p_i=\theta_i$，则 $u_i=-c_i$）
* 对未披露者：$u_i = \theta_i - p_u^*(D)$（若购买），否则 0
* 社会福利 $W(D)=\sum_i u_i + \Pi(D)$（或等价为总 surplus 减去隐私成本）

均衡披露（消费者先披露，平台后定价）：

* 你需要一个披露博弈的均衡概念。最稳落地版本：把披露当作同时行动的二元策略，平台按 $D$ 定价。则均衡是一个纯策略 Nash：对每个 $i$，给定 $D\setminus\{i\}$，$i$ 选择披露/不披露使其效用最大。
* 实现方式：枚举所有 $D$，检查是否满足每个 $i$ 的单边偏离不增益（best-response check）。满足则为均衡集合；若多均衡可设选择规则（如福利最大或平台利润最大，需在论文中声明）。

A4. 输出数值（gt_numeric）

* eq_disclosure_set：均衡披露集合 $D^*$
* eq_uniform_price：$p_u^*(D^*)$
* eq_profit：$\Pi(D^*)$
* eq_CS：$\sum$消费者剩余
* eq_W：社会福利
* fb_disclosure_set：社会最优披露集合（直接枚举 $D$ 最大化 $W(D)$）
* fb_W、fb_CS、fb_profit
* externality_gap：$W(\text{fb})-W(\text{eq})$，$CS(\text{fb})-CS(\text{eq})$

A5. 抽象标签（gt_labels）

* disclosure_rate_bucket：low/med/high（例如按 $|D^*|/n$ 分桶）
* over_disclosure：$1\{|D^*| > |D_\text{fb}|\}$
* personalization_harm_CS：$\text{sign}(CS(D^*) - CS(\text{no\_personalization\_baseline}))$（可选：设基线为强制全未披露或强制禁个性化）
* best_policy_label：例如 {ban_personalization, privacy_tax, status_quo} 中福利最高（若你实现了政策）

A6. 建议 LLM 题目字段

* 输出披露率桶、是否过度披露、统一价高/中/低、政策排序（不要求输出精确 $p$）

三、场景 B：Too Much Data（推断外部性/信息外部性）

B1. 模型定位
外部性来源：用户类型相关，他人分享提升平台对你类型的推断精度，即使你不分享也会被“连带泄露”；边际信息可能次模导致价格压低与过度分享。

B2. 输入参数

* n：用户数（建议 8–12，保证 $2^n$ 可枚举）
* $\Sigma$：类型相关协方差矩阵（可用等相关：$\Sigma[i,j]=\rho$（$i\neq j$），$\Sigma[i,i]=1$）
* $\sigma^2$：观测噪声方差（分享者信号 $S_i=X_i+\varepsilon$）
* $\alpha$：平台从信息中获益系数
* $v_i$：每个用户隐私偏好（泄露成本系数）
* market_mechanism：定价/交易规则（建议用“平台对分享者支付价格 $p_i$，用户决定分享”）

B3. Solver 设计（枚举分享集合 + 可实现性/利润最大）
核心计算：给定分享集合 $S$，计算对所有 $i$ 的“泄露信息量”

* 观测矩阵 $H$：选取 $S$ 中坐标
* 后验协方差：$\Sigma_{\text{post}} = \Sigma - \Sigma H^T (H\Sigma H^T + \sigma^2 I)^{-1} H\Sigma$
* $\text{leak}_i(S)=\Sigma[i,i]-\Sigma_{\text{post}}[i,i]$

平台价值：$\text{Value}(S)=\alpha \cdot \sum_i \text{leak}_i(S)$
用户隐私成本：$\text{Cost}_i(S)=v_i \cdot \text{leak}_i(S)$
社会福利：$W(S)=\text{Value}(S)-\sum_i \text{Cost}_i(S)$

均衡求解（建议最稳的实现方式：目标集合支持法）
对于每个 $S$，构造能“支持 $S$ 成为均衡”的最小支付向量 $p$：

* 对 $i\in S$：需要 $p_i \geq v_i \cdot \text{leak}_i(S)$（分享者至少补偿其最终隐私成本；第一版用这个充分条件即可）
* 对 $i\notin S$：需要 $0 \geq - v_i \cdot \text{leak}_i(S)$（他们不拿钱但也承受泄露；因此他们永远更愿意“不分享”，因为分享只会额外增加泄露/且无额外收益；在该简化下，不分享者不会偏离去分享，条件自然满足）
  据此平台利润：$\Pi(S)=\text{Value}(S)-\sum_{i\in S} p_{i,\text{min}}$

选择：$S^* = \arg\max \Pi(S)$，得到均衡分享集合与价格下界。

说明：这个“$p_i= v_i\cdot\text{leak}_i(S)$”的设计本质上将用户的参与约束与激励约束合并成一个可计算的充分条件，适合做 benchmark 的稳定真值。你们后续若要更精细的机制（比如用户考虑“边际泄露”或平台可歧视/协商），再升级即可。

B4. 输出数值（gt_numeric）

* eq_share_set $S^*$
* eq_prices $p_i$（最小支持价）
* eq_value、eq_profit、eq_W、eq_total_leakage
* fb_share_set（最大化 $W(S)$ 的集合）
* fb_W、fb_total_leakage
* shutdown_W（$S=\varnothing$ 的福利）
* policy_counterfactuals：例如 decorrelation 后的 eq/fb（若实现）

B5. 抽象标签（gt_labels）

* over_sharing：$1\{|S^*| > |S_\text{fb}|\}$
* shutdown_better：$1\{W(\varnothing) > W(S^*)\}$
* leakage_bucket：按 $\sum_i \text{leak}_i(S^*)$ 分桶 low/med/high
* best_policy_ranking：在 {tax, shutdown, decorrelation} 中按 $W$ 排序（若实现政策）

B6. 建议 LLM 题目字段

* 输出是否过度分享、关停是否更好、分享率桶、政策排序、机制要点（“不分享也泄露”“相关性推断”）

四、场景 C：Economics of Social Data（社会数据、匿名化/信息设计）

C1. 模型定位
外部性来源：个体数据具有社会性（反映共同成分/市场状态）。数据中介的“匿名化 vs 带身份”是信息设计，会改变卖家定价能力与福利。

C2. 输入参数（第一版选可计算的简化）

* N：消费者数（建议 50–500，用模拟期望）
* $w_i = \theta + \eta_i$：愿付分解
* $\theta \sim N(\mu, \sigma_\theta^2)$，$\eta_i \sim N(0, \sigma_\eta^2)$
* 观测噪声 $\varepsilon_i \sim N(0, \sigma_\varepsilon^2)$，信号 $s_i = w_i + \varepsilon_i$
* 两种信息模式：

  * A（匿名化）：卖家仅观察 $\bar{s}$（或 $\theta$ 的后验）
  * I（带身份）：卖家观察每个 $i$ 的 $s_i$ 并可差别定价
* 需求/购买规则：买当且仅当 $w_i \geq \text{price}$（或差别价下 $w_i\geq p_i$）
* 成本 cost

C3. Solver 设计（蒙特卡洛 + 两种模式分别求最优定价）
模式 A（匿名化）：

* 卖家基于 $\bar{s}$ 更新对 $\theta$ 的后验（可用正态共轭闭式）
* 给定后验，卖家选择统一价 $p$ 最大化期望利润 $E[(p-\text{cost})\cdot \#\text{buyers}]$
* 通过网格搜索 $p$（例如在 $[0,1]$ 或 $[\mu\pm3\sigma]$ 上网格）得到 $p_A^*$

模式 I（带身份）：

* 卖家对每个 $i$ 形成 $E[w_i\mid s_i]$（正态更新闭式）
* 差别定价最简单可设为 $p_i = E[w_i\mid s_i]$（一阶近似），或加入一个统一折扣 $\delta$ 保证购买概率（你可用 $p_i = E[w_i\mid s_i] - \kappa$ 作为政策参数并数值选 $\kappa$ 最大化利润）
* 得到利润 $\Pi_I$、消费者剩余 $CS_I$、福利 $W_I$

中介选择：

* 若你要“中介利润最大”版本：定义中介向卖家收取信息费 $R(\text{mode})$（可设为卖家因信息带来的增量利润的一部分，如 $R = \lambda\cdot(\Pi_{\text{mode}} - \Pi_{\text{noinfo}})$），并向消费者支付补偿（第一版可忽略或设为 0，仅比较社会福利与卖家利润即可）
* 也可以直接把 benchmark 只做“福利比较 + 定价形式”，不引入中介支付，先跑通。

C4. 输出数值（gt_numeric）

* $p_A^*$、$\Pi_A$、$CS_A$、$W_A$
* （带身份）差别定价策略参数（如 $\kappa^*$）、$\Pi_I$、$CS_I$、$W_I$
* mode_welfare_best：$\arg\max\{W_A,W_I\}$
* mode_profit_best：$\arg\max\{\Pi_A,\Pi_I\}$ 或中介利润版本
* proposition8_holds：$1\{ (\text{profit\_best}==A) \equiv (\text{welfare\_best}==A) \}$（同质设定下用作标签）

C5. 抽象标签（gt_labels）

* best_mode_welfare：A 或 I
* best_mode_profit：A 或 I
* proposition8_label：true/false
* personalization_possible：匿名化下必须为 false（一致性硬约束标签）
* $\Delta CS_\text{sign}$：$\text{sign}(CS_A - CS_I)$

C6. 建议 LLM 题目字段

* 输出“匿名化是否支持个性化定价”（必须答否）
* 输出 welfare 更优模式、profit 更优模式、Proposition8 是否成立（在你设定的样本上）

五、场景 D：Data-enabled Learning（动态学习、竞争、预期政策）

D1. 模型定位
外部性来源：今天的数据积累提升未来产品质量，消费者当前选择改变未来竞争格局；政策若可预期，会改变企业前期竞争强度（补贴/降价动机）。

D2. 输入参数（第一版做有限期动态，离散状态）

* T：期数（建议 15–30）
* 两企业 $i\in\{I,E\}$
* 学习状态 $N_i(t)$（服务量/数据存量，离散 $0..K$）
* 学习函数 $f(N)=a\cdot\log(1+N)$ 或 $a\cdot\sqrt{N}$
* 消费者基准偏好差 $\Delta_0$（可设 0）
* 噪声/随机偏好（可选：Logit，或简化为确定性选择）
* 成本 $c$，折扣 $\beta$
* 政策：在 $t_0$ 发生数据共享转移（把领先者一部分状态转给落后者），分 anticipated 与 unanticipated 两种信息结构

D3. Solver 设计（可落地版本：动态规划 + 每期一阶段纳什）
状态 $s=(N_I,N_E,t)$：

* 给定状态与对方价格，消费者选择（确定性：选效用更高者；或 Logit：市场份额连续）
* 企业一阶段利润：$\pi_i(p_i,p_{-i},s)=(p_i-c)\cdot q_i$
* 状态转移：$N_i’=N_i + q_i$（或 +1 若赢得该期消费者）

求解方式：

* 价值函数迭代（后向归纳，有限期最稳）：

  * $V_i(s)=\max_{p_i} \left[ \pi_i + \beta \cdot V_i(s’) \right]$
  * 其中 $(p_i,p_{-i})$ 是当期一阶段纳什：两边互为 best response
* 一阶段纳什求解：因只有一维价格，可用网格或一维最优化 + best response 迭代（价格区间离散化更稳）
* 对 anticipated 政策：在 $t<t_0$ 的递推里使用“已知 $t_0$ 会发生转移”的转移规则
* 对 unanticipated：先按无政策递推到 $t_0-1$，$t_0$ 突然改变状态，再继续递推（或直接模拟策略路径）

D4. 输出数值（gt_numeric）

* 价格路径 $p_I(t), p_E(t)$
* 市场份额路径 $q_I(t), q_E(t)$
* 终局赢家（谁的 $N$ 更大/累计利润更高）
* CS 总和（折现或不折现）、$\Pi$ 总和、$W$ 总和
* policy outcomes：anticipated vs unanticipated 下的 $CS$、$W$
* $\Delta CS_{\text{anticipated}}$、$\Delta CS_{\text{unanticipated}}$

D5. 抽象标签（gt_labels）

* winner_label：I 或 E
* anticipated_policy_CS_sign：$\text{sign}(CS_{\text{policy}} - CS_{\text{baseline}})$
* unanticipated_policy_CS_sign：$\text{sign}(CS_{\text{policy}} - CS_{\text{baseline}})$
* anticipation_gap_sign：$\text{sign}( (CS_{\text{unanticipated\_gain}}) - (CS_{\text{anticipated\_gain}}) )$
* subsidy_intensity_bucket：用前几期平均 $(c - p_i)$ 的大小分桶（衡量“补贴竞争强度”）

D6. 建议 LLM 题目字段

* 输出赢家、两种政策下 $CS$ 方向（+/-）、哪种更利于消费者、机制要点（“预期削弱前期竞争动机”）

六、场景 E：Platform–Data Broker Partnership（两边市场传导 + 合作博弈）

E1. 模型定位
外部性来源：平台与 broker 合作提升定向能力（广告侧价值↑），同时提升隐私担忧（消费者侧效用↓）。隐私担忧会反馈到广告侧竞争与价格，可能出现“隐私越担忧越合作”的反直觉动机。

E2. 输入参数（第一版用两阶段、可数值求）

* 两平台 A/B
* 合作决策 $y_i\in\{0,1\}$
* $\delta$：定向能力提升幅度（合作收益）
* $\rho$：隐私担忧强度（合作成本/消费者侧负效应）
* $\gamma$：给 broker 的佣金/固定费
* 消费者侧需求参数：基础规模 $M$、差异化程度 $t$
* 广告侧需求参数：广告主愿付与用户规模的函数（线性即可）
* 商业模式：ad_only 或 mixed（mixed 允许平台对消费者收订阅价）

E3. Solver 设计（外层枚举合作结构，内层求定价均衡）
外层：枚举 $(y_A,y_B)\in\{(0,0),(1,0),(0,1),(1,1)\}$

内层定价子博弈（给定 $y$）：

* 选择变量：

  * ad_only：广告价 $r_A,r_B$
  * mixed：广告价 $r_i +$ 订阅价 $s_i$
* 需求系统（示例，第一版可用确定性 Hotelling 的简化近似或连续近似）：

  * 消费者效用：$U_i = \text{base} - t\cdot\text{distance} - \rho\cdot y_i - s_i$
  * 得到用户份额 $n_i$（可用 Logit 近似避免分段）
  * 广告需求：$A_i = k\cdot(\beta+\delta\cdot y_i)\cdot n_i - m\cdot r_i$（线性反应）
* 平台利润：$\Pi_i = r_i\cdot A_i + s_i\cdot n_i - \gamma\cdot y_i$

求解方法：

* 对内层连续变量，用数值 best-response 或直接多变量优化（维度 2 或 4，仍可控）
* 多初值启动以避免局部最优
* 得到每个 $y$ 下的均衡利润 $\Pi_i(y)$、价格、用户份额

第一阶段合作均衡：

* 用利润矩阵判断 $2\times2$ 博弈的纯策略纳什（或若无纯策略，标记混合均衡但第一版可选参数区间避免）
* 得到 $(y_A^*,y_B^*)$：NN/YN/YY 等结构标签

E4. 输出数值（gt_numeric）

* regime_eq：NN/YN/NY/YY
* 每种 $y$ 下：$r_i$、（可选 $s_i$）、用户份额 $n_i$、广告量 $A_i$、利润 $\Pi_i$
* 均衡下：价格、份额、利润、$CS$、$W$（你可以把消费者效用积分作为 $CS$）
* 对比：在不同 $\rho$、$\delta$ 下 regime 变化阈值（用于画相图）

E5. 抽象标签（gt_labels）

* regime_label：NN / YN / YY（若对称可把 NY 合并）
* ad_price_sign_wrt_privacy：在固定 $\delta$ 下，提高 $\rho$ 是否使均衡广告价上升（比较静态符号）
* consumer_welfare_effect_of_coop：合作相对不合作对 $CS$ 的符号（并按 ad_only vs mixed 区分）
* prisoner_dilemma_flag：若 YY 为均衡但 NN 的双边福利更高（或消费者更高），标记为 1

E6. 建议 LLM 题目字段

* 输出均衡合作结构、隐私担忧上升对广告价方向、合作对消费者是否更糟（按商业模式）

七、你们如何把这些“实例”组织成可跑的 benchmark 生成流程

1）每个场景写一个 generator：

* sample_params(seed) 生成 params
* build_rules_text(params) 生成给 LLM 的题干（严格控制长度与信息）
* build_instance(params) 返回 instance

2）每个场景写一个 solver：

* solve(instance) -> gt_numeric
* abstract(gt_numeric) -> gt_labels
* attach keypoints_gold（固定模板 + 条件触发要点，如 “shutdown_better” 为真则加入该要点）

3）每个场景定义一组任务模板（给 evaluator）：

* prediction：输出结构标签（share_set/regime/winner）
* comparative：输出符号（$\Delta CS$、$\Delta W$）
* policy：输出排序（Kendall/Top-1）
* mechanism：输出 keypoints 列表（覆盖率评分）

八、你可以立刻启动的最小落地版本（强烈建议按这个顺序）

第一周先做两件事跑通全链路：
1）Personalization：枚举披露集合 + 统一价最优化 + Nash 检验（小 $n$）
2）Too Much Data：枚举分享集合 + 高斯后验协方差 + 利润最大

这两者都几乎不需要连续优化和动态规划，真值稳定，最适合作为你们 benchmark 的“第一批可发布样本”。后面再逐步加入 C/D/E 的更复杂求解器。

如果你希望我下一步继续把这些“方案”进一步变成你们仓库可直接实现的代码级骨架（类/函数签名、JSON schema、以及每个场景一份伪代码到可运行代码的对应），我可以从你们最优先的两个场景（Personalization、Too Much Data）开始，给出一版“最小可运行”实现蓝图，方便你们直接落地到现有 ICDE 代码框架里。
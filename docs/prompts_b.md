# 场景B提示词版本管理

本文档管理场景B（Too Much Data - 推断外部性）的所有提示词版本。

---

## 版本对比概览

| 版本 | 复杂度 | 数值信息 | 参数解释 | 机制说明 | 核心区别 |
|------|--------|----------|----------|----------|----------|
| b.v0 | 最简 | 仅个人(v,p) | 无 | 无 | 仅成本收益框架 |
| b.v1 | 低 | 个人+市场参数 | 无 | 无 | 添加市场参数（无解释） |
| b.v2 | 中低 | 个人+市场参数 | 有（ρ,σ²） | 无 | 参数含义解释 |
| b.v3 | 中 | 个人+市场参数 | 有 | 基础机制 | 推断外部性、边际泄露概念 |
| b.v4 | 高 | 个人+市场参数 | 有 | 完整机制 | 次模性、补偿逻辑 |
| b.v5 | 最完整 | 个人+市场参数 | 有 | 完整机制（结构化） | 最详细、结构化表述 |

---

## b.v0: 最简版本（仅基本成本收益）

### 设计原则
- **仅提供**：个人报价、隐私偏好、基本成本公式
- **不提供**：市场参数、机制说明、外部性概念
- **目标**：测试LLM在仅有成本收益框架下的基线表现

### 用户系统提示 (System Prompt)

```
你是理性经济主体，目标是在不确定他人行为的情况下最大化你的期望效用。
你必须输出严格JSON格式，不要包含任何额外的文本。
```

### 用户决策提示 (User Decision Prompt)

```
你是用户 {user_id}，正在参与一个数据市场。

**你的个人信息**：
- 平台给你的报价：p[{user_id}] = {price:.4f}
- 你的隐私偏好（单位信息的成本）：v[{user_id}] = {v_i:.3f}

**决策框架**：
- 如果你分享数据，你会得到补偿 p = {price:.4f}
- 分享会产生隐私成本 = v × 边际信息泄露量
- 你需要权衡：补偿收益 vs 隐私成本

请输出严格JSON：
{{
  "share": 0或1（0=不分享，1=分享），
  "reason": "简要说明你的决策理由（不超过150字）"
}}
```

**变量说明**:
- `{user_id}`: 用户ID
- `{v_i}`: 用户隐私偏好（单位信息成本）
- `{price}`: 平台给该用户的个性化报价

---

## b.v1: 添加市场参数（无解释）

### 设计原则
- **新增**：市场规模(n)、相关系数(ρ)、观测噪声(σ²)、隐私偏好分布
- **不提供**：参数解释、机制说明
- **目标**：测试LLM在有市场参数但无解释时的理解

### 用户决策提示 (User Decision Prompt)

```
你是用户 {user_id}，正在参与一个数据市场。

**你的私有信息**：
- 平台给你的报价：p[{user_id}] = {price:.4f}
- 你的隐私偏好（单位信息的成本）：v[{user_id}] = {v_i:.3f}

**公共知识**：
- 用户总数：n = {n}
- 用户间信息相关系数：ρ = {rho:.2f}
- 观测噪声：σ² = {sigma_noise_sq}
- 隐私偏好分布：所有用户的 v 范围在 [{v_min}, {v_max}]
（你的 v = {v_i:.3f}，相对位置：{v_description}）

**决策框架**：
- 如果你分享数据，你会得到补偿 p = {price:.4f}
- 分享会产生隐私成本 = v × 边际信息泄露量
- 你需要权衡：补偿收益 vs 隐私成本

请输出严格JSON：
{{
  "share": 0或1（0=不分享，1=分享），
  "reason": "简要说明你的决策理由（不超过150字）"
}}
```

**变量说明**:
- `{user_id}`: 用户ID
- `{v_i}`: 用户隐私偏好（单位信息成本）
- `{v_description}`: "偏低"/"中等"/"偏高"
- `{price}`: 平台给该用户的个性化报价
- `{n}`: 用户总数
- `{rho}`: 相关系数
- `{sigma_noise_sq}`: 噪声方差
- `{v_min}, {v_max}`: 隐私偏好分布范围

---

## b.v2: 添加参数解释

### 设计原则
- **新增**：参数的直观解释（ρ和σ²的含义）
- **不提供**：机制说明、外部性概念
- **目标**：测试LLM在理解参数含义后的决策能力

### 用户决策提示 (User Decision Prompt)

```
你是用户 {user_id}，正在参与一个数据市场。

**你的私有信息**：
- 平台给你的报价：p[{user_id}] = {price:.4f}
- 你的隐私偏好（单位信息的成本）：v[{user_id}] = {v_i:.3f}

**公共知识**：
- 用户总数：n = {n}
- 用户间信息相关系数：ρ = {rho:.2f}
  你的类型与其他用户的类型相关，相关系数为 {rho:.2f}，代表其他用户的信息用于推断你的信息的能力。ρ为0时他人的信息完全无法推断你的信息，ρ为1时他人的信息可以完美推断你的信息（这种推断是相互的），ρ越高推断能力越强。
- 观测噪声：σ² = {sigma_noise_sq}
  观测噪声表示数据本身的不确定性。σ²越大，数据的噪声越大，平台从数据中提取有效信息的能力越弱，你的信息泄露程度越低；σ²越小，数据越准确，平台的推断越精确，信息泄露程度越高。
- 隐私偏好分布：所有用户的 v 均匀分布在 [{v_min}, {v_max}]
（你的 v = {v_i:.3f}，相对位置：{v_description}）

**决策框架**：
- 如果你分享数据，你会得到补偿 p = {price:.4f}
- 分享会产生隐私成本 = v × 边际信息泄露量
- 你需要权衡：补偿收益 vs 隐私成本

请输出严格JSON：
{{
  "share": 0或1（0=不分享，1=分享），
  "reason": "简要说明你的决策理由（不超过150字）"
}}
```

**变量说明**:
- `{user_id}`: 用户ID
- `{v_i}`: 用户隐私偏好（单位信息成本）
- `{v_description}`: "偏低"/"中等"/"偏高"
- `{price}`: 平台给该用户的个性化报价
- `{n}`: 用户总数
- `{rho}`: 相关系数
- `{sigma_noise_sq}`: 噪声方差
- `{v_min}, {v_max}`: 隐私偏好分布范围

---

## b.v3: 添加基础机制说明

### 设计原则
- **新增**：推断外部性、基础泄露、边际泄露概念
- **不提供**：详细的决策框架
- **目标**：测试LLM在有基本机制概念时的决策能力

### 用户决策提示 (User Decision Prompt)

```
你是用户 {user_id}，正在参与一个数据市场。

**你的私有信息**：
- 平台给你的报价：p[{user_id}] = {price:.4f}
- 你的隐私偏好（单位信息的成本）：v[{user_id}] = {v_i:.3f}

**公共知识**：
- 用户总数：n = {n}
- 用户间信息相关系数：ρ = {rho:.2f}
  你的类型与其他用户的类型相关，相关系数为 {rho:.2f}，代表其他用户的信息用于推断你的信息的能力。ρ为0时他人的信息完全无法推断你的信息，ρ为1时他人的信息可以完美推断你的信息（这种推断是相互的），ρ越高推断能力越强。
- 观测噪声：σ² = {sigma_noise_sq}
  观测噪声表示数据本身的不确定性。σ²越大，数据的噪声越大，平台从数据中提取有效信息的能力越弱，你的信息泄露程度越低；σ²越小，数据越准确，平台的推断越精确，信息泄露程度越高。
- 隐私偏好分布：所有用户的 v 均匀分布在 [{v_min}, {v_max}]
（你的 v = {v_i:.3f}，相对位置：{v_description}）

**关键机制**：
- 即使你不分享数据，平台也可能通过其他用户的数据推断你的信息（推断外部性）
- 如果你分享，你的信息会从间接部分泄露变成完全泄露
- 如果你不分享，你可以保护未间接泄露的那部分信息
- 不分享也会有基础泄露（因为其他人分享会泄露你的信息），分享的真正成本是边际泄露带来的成本

**决策框架**：
- 如果你分享数据，你会得到补偿 p = {price:.4f}
- 分享会产生隐私成本 = v × 边际信息泄露量
- 你需要权衡：补偿收益 vs 隐私成本

请输出严格JSON：
{{
  "share": 0或1（0=不分享，1=分享），
  "reason": "简要说明你的决策理由（不超过150字）"
}}
```

**变量说明**:
- `{user_id}`: 用户ID
- `{v_i}`: 用户隐私偏好（单位信息成本）
- `{v_description}`: "偏低"/"中等"/"偏高"
- `{price}`: 平台给该用户的个性化报价
- `{n}`: 用户总数
- `{rho}`: 相关系数
- `{sigma_noise_sq}`: 噪声方差
- `{v_min}, {v_max}`: 隐私偏好分布范围

---

## b.v4: 添加完整机制说明

### 设计原则
- **新增**：核心外部性、次模性、补偿价格逻辑
- **不提供**：数学公式、详细决策框架
- **目标**：测试LLM在有完整机制概念时的决策能力

### 用户决策提示 (User Decision Prompt)

```
你是用户 {user_id}，正在参与一个数据市场。

**你的私有信息**：
- 平台给你的报价：p[{user_id}] = {price:.4f}
- 你的隐私偏好（单位信息的成本）：v[{user_id}] = {v_i:.3f}

**公共知识**：
- 用户总数：n = {n}
- 用户间信息相关系数：ρ = {rho:.2f}
  你的信息与其他用户的信息相关，相关系数为 {rho:.2f}，代表其他用户的信息用于推断你的信息的能力。ρ为0时他人的信息完全无法推断你的信息，ρ为1时他人的信息可以完美推断你的信息（这种推断是相互的），ρ越高推断能力越强。
- 观测噪声：σ² = {sigma_noise_sq}
  观测噪声表示数据本身的不确定性。σ²越大，数据的噪声越大，平台从数据中提取有效信息的能力越弱，你的信息泄露程度越低；σ²越小，数据越准确，平台的推断越精确，信息泄露程度越高。
- 隐私偏好分布：所有用户的 v 均匀分布在 [{v_min}, {v_max}]
（你的 v = {v_i:.3f}，相对位置：{v_description}）

**核心机制**：
- **推断外部性**：泄露信息量不仅取决于你是否分享，还取决于其他人是否分享。任何人的分享都会增加所有人（包括不分享者）的信息泄露量。
- 如果你**分享**，你会得到来自平台的补偿 p = {price:.4f}，但你的信息会从间接部分泄露变成完全泄露
- 如果你**不分享**，你可以保护未间接泄露的那部分信息，但代价是无法得到补偿
- **次模性**：分享的人越多，你再分享带来的边际泄露越小（基础泄露越高，边际泄露越低）
- 不分享也会有**基础泄露**（因为其他人分享会泄露你的信息），分享的真正成本是**边际泄露**带来的成本
- 补偿价格旨在覆盖你的边际隐私损失

**决策框架**：
- 隐私成本 = v × 边际信息泄露量
- 你需要权衡：补偿收益 p vs 隐私成本 v × 边际泄露量

请输出严格JSON：
{{
  "share": 0或1（0=不分享，1=分享），
  "reason": "简要说明你的决策理由（不超过150字）"
}}
```

**变量说明**:
- `{user_id}`: 用户ID
- `{v_i}`: 用户隐私偏好（单位信息成本）
- `{v_description}`: "偏低"/"中等"/"偏高"
- `{price}`: 平台给该用户的个性化报价
- `{n}`: 用户总数
- `{rho}`: 相关系数
- `{sigma_noise_sq}`: 噪声方差
- `{v_min}, {v_max}`: 隐私偏好分布范围

---

## b.v5: 完整版（简化后的新版本）

### 设计原则
- **完整提供**：所有关键数值和机制说明
- **简化表述**：去掉冗长的决策框架和相关性细节
- **自然语言**：用直观语言描述机制而非公式
- **目标**：测试LLM在简洁但完整信息下的决策能力

### 用户决策提示 (User Decision Prompt)

```
# 场景：数据市场静态博弈（推断外部性）

你是用户 {user_id}，正在参与一个**一次性的数据市场决策**。

## 基本信息

**你的私有信息**：
- 你的隐私偏好：v[{user_id}] = {v_i:.3f}
- 平台给你的个性化报价：p[{user_id}] = {price:.4f}
  （注意：每个用户的报价可能不同）

**公共知识**（所有人都知道）：
- 用户总数：n = {n}
- 类型相关系数：ρ = {rho:.2f}
- 你的信息型与其他用户的信息相关，相关系数为 {rho:.2f}，代表其他用户的信息用于推断你的信息的能力。ρ为0时他人的信息完全无法推断你的信息，ρ为1时他人的信息可以完美推断你的信息（这种推断是相互的），ρ越高推断能力越强。
- 观测噪声：σ² = {sigma_noise_sq}
  观测噪声表示数据本身的不确定性。σ²越大，数据的噪声越大，平台从数据中提取有效信息的能力越弱，你的信息泄露程度越低；σ²越小，数据越准确，平台的推断越精确，信息泄露程度越高。
- 隐私偏好分布：所有用户的 v 均匀分布在 [{v_min}, {v_max}]
（你的 v = {v_i:.3f}，相对位置：{v_description}，属于{v_description}隐私偏好群体）

- **核心外部性**：泄露信息量不仅取决于你是否分享，还取决于其他人是否分享，任何人的分享都会带来泄露信息量增加。
- 如果你**分享**，你会得到来自平台的补偿p_i，但是会导致你的信息会从间接部分泄露变成完全泄露，你的单位信息成本为v_i。
- 如果你**不分享**，你就可以相应保护你未间接泄露的信息，但代价是无法得到补偿。
- 基础泄露越高（别人分享多），你分享的边际泄露越小。
- 不分享也会有**基础泄露**（因为其他人分享会泄露你的信息），分享的真正成本是**边际泄露**带来的成本，补偿价格旨在覆盖你的边际隐私损失。

## 你的任务

基于上述机制，在**不知道其他人具体决策**的情况下，决定是否分享数据。

## 输出格式

请输出严格JSON：
{{
  "share": 0或1（0=不分享，1=分享），
  "reason": "简要说明你的权衡与信念依据（不超过150字）"
}}
```

**变量说明**:
- `{user_id}`: 用户ID
- `{v_i}`: 用户隐私偏好
- `{price}`: 平台给该用户的个性化报价
- `{n}`: 用户总数
- `{rho}`: 相关系数
- `{sigma_noise_sq}`: 噪声方差
- `{v_min}, {v_max}`: 隐私偏好分布范围
- `{v_description}`: "偏低"/"中等"/"偏高"

---

## 版本迭代说明

### v0 → v1 实际改进：
1. ✅ 添加市场规模 n
2. ✅ 添加相关系数 ρ（无解释）
3. ✅ 添加观测噪声 σ²（无解释）
4. ✅ 添加隐私偏好分布范围 [v_min, v_max]
5. ⛔ 不提供参数解释和机制说明
6. ⛔ 保持相同的决策框架（补偿 vs 隐私成本）

### v1 → v2 实际改进：
1. ✅ 添加 ρ 的直观解释（推断能力，0到1的含义）
2. ✅ 添加 σ² 的直观解释（噪声与信息泄露的关系）
3. ⛔ 仍不提供机制说明
4. ⛔ 保持相同的决策框架

### v2 → v3 实际改进：
1. ✅ 添加基本机制说明（推断外部性概念）
2. ✅ 引入基础泄露和边际泄露的概念
3. ✅ 说明分享与不分享的区别
4. ⛔ 不提供详细机制（如次模性）

### v3 → v4 实际改进：
1. ✅ 添加核心外部性的完整说明
2. ✅ 添加次模性概念
3. ✅ 强调补偿价格旨在覆盖边际隐私损失
4. ✅ 在决策框架中明确隐私成本公式

### v4 → v5 实际改进：
1. ✅ 增加场景标题和结构化的基本信息
2. ✅ 更详细的机制说明（核心外部性、次模性、边际成本）
3. ✅ 删除输出中的 belief_share_rate（简化输出）
4. ✅ 明确"你的任务"模块

---

## 实验记录

### b.v0 实验结果

**实验时间**: 待定

**配置参数**:
```json
{
  "model": "",
  "n": null,
  "rho": null,
  "num_rounds": null
}
```

**结果摘要**:
- 待补充

**观察**:
- 待补充

---

## 附录：提示词设计原则

### 复杂度递增策略

1. **v0（最简）**: 仅个人数值 + 基本成本公式，无市场参数和机制说明
2. **v1（添加市场参数）**: 引入 n, ρ, σ², 分布范围，但不解释含义
3. **v2（添加参数解释）**: 解释 ρ 和 σ² 的含义和作用机制
4. **v3（添加基础机制）**: 引入推断外部性、基础泄露、边际泄露概念
5. **v4（添加完整机制）**: 引入次模性、补偿逻辑、完整决策框架
6. **v5（结构化完整版）**: 结构化呈现所有信息，最详细的机制说明

### 关键控制维度及实际取值

| 维度 | v0 | v1 | v2 | v3 | v4 | v5 |
|------|----|----|----|----|----|----|
| **个人数值(v,p)** | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| **成本公式** | ✅基础 | ✅基础 | ✅基础 | ✅基础 | ✅完整 | ✅完整 |
| **市场参数** | ❌ | ✅ | ✅ | ✅ | ✅ | ✅ |
| **参数解释** | ❌ | ❌ | ✅直观 | ✅直观 | ✅直观 | ✅直观 |
| **推断外部性** | ❌ | ❌ | ❌ | ✅概念 | ✅详细 | ✅详细 |
| **边际/基础泄露** | ❌ | ❌ | ❌ | ✅概念 | ✅详细 | ✅详细 |
| **次模性说明** | ❌ | ❌ | ❌ | ❌ | ✅ | ✅ |
| **补偿逻辑** | ❌ | ❌ | ❌ | ❌ | ✅ | ✅ |

### 实验设计建议

**对照实验**：
- 使用相同的市场配置（n, ρ, 分布等）
- 对每个版本运行多轮实验
- 比较指标：分享率、与GT的距离、决策理由质量

**预期假设**：
- v0: 简单比较 price vs v_i，不考虑市场因素
- v1: 可能注意到市场参数，但不理解含义
- v2: 开始理解ρ和σ²的作用，但不知如何应用
- v3: 理解推断外部性和边际泄露，开始考虑他人行为
- v4: 理解次模性和补偿逻辑，能做更理性的权衡
- v5: 最完整的信息，最接近理性决策

---

最后更新时间：2026-01-22
